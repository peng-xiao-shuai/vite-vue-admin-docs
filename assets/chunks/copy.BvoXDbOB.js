import{E as d}from"./index.CcTcQWG_.js";import{d as f,$ as g,A as w,o as p,c as i,k as l,a as r,E as v,w as c,a1 as m}from"./framework.CmyazEwt.js";import"./index.3qF-Y4fJ.js";const V={class:"grid grid-c-3"},B=f({__name:"copy",setup(A){const o=g({text:"风和自由",text1:"诗和远方"}),x=()=>{d.warning("复制成功！"+o.text1)},y=()=>{d.warning("复制成功！callback1")};let n;const u={mounted(s,e){if(!(e.value instanceof Array)&&typeof e.value!="string"&&typeof e.value!="number")throw new Error("value 类型错误，只能为 String、Array 以及 Number");n=e.value instanceof Array?e.value[0]:e.value,s.style.cursor="pointer",s.addEventListener("click",()=>{const a=Array.isArray(e.value)&&e.value.length>1?e.value[1]:()=>d.success("复制成功！");if(!n)throw new Error("value 不能为空");if(navigator.clipboard&&navigator.permissions)navigator.clipboard.writeText(n).then(()=>{a()}).catch(t=>{console.error("Unable to copy text to clipboard",t)});else{const t=document.createElement("input");t.setAttribute("value",n),t.style.position="fixed",t.style.left="999px",t.style.top="10px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),a()}})},updated(s,e){if(!(e.value instanceof Array)&&typeof e.value!="string")throw new Error("value 类型错误，只能为 String 或者 Array");n=e.value instanceof Array?e.value[0]:e.value}};return(s,e)=>{const a=w("el-input");return p(),i("div",V,[l("div",null,[e[4]||(e[4]=l("div",{class:"tipBox"},[r(" 基础   "),l("div",{style:{"font-size":"13px",color:"var(--vp-code-color)"}},' v-copy="inputs.text" ')],-1)),v(a,{modelValue:o.text,"onUpdate:modelValue":e[0]||(e[0]=t=>o.text=t),placeholder:""},{append:c(()=>[m((p(),i("span",null,e[3]||(e[3]=[r("复制")]))),[[u,o.text]])]),_:1},8,["modelValue"])]),l("div",null,[e[6]||(e[6]=l("div",{class:"tipBox"},[r(" 数组式   "),l("div",{style:{"font-size":"13px",color:"var(--vp-code-color)"}},' v-copy="[inputs.text]" ')],-1)),v(a,{modelValue:o.text,"onUpdate:modelValue":e[1]||(e[1]=t=>o.text=t),placeholder:""},{append:c(()=>[m((p(),i("span",null,e[5]||(e[5]=[r("复制")]))),[[u,[o.text]]])]),_:1},8,["modelValue"])]),l("div",null,[e[8]||(e[8]=l("div",{class:"tipBox"},[r(" 数组式（自定义复制成功后执行的函数） "),l("div",{style:{"font-size":"13px",color:"var(--vp-code-color)"}},' v-copy="[inputs.text1, callback]" ')],-1)),v(a,{modelValue:o.text1,"onUpdate:modelValue":e[2]||(e[2]=t=>o.text1=t),placeholder:""},{append:c(()=>[m((p(),i("span",null,e[7]||(e[7]=[r("复制")]))),[[u,[o.text1,o.text1=="诗和远方"?x:y]]])]),_:1},8,["modelValue"])])])}}});export{B as default};
