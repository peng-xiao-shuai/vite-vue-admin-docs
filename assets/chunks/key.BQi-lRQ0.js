import{d as w,$ as N,A as U,o as i,c as g,k as t,a1 as a,b as v,w as y,a as p,F as E,a3 as j}from"./framework.CmyazEwt.js";const O={class:"grid grid-c-3"},T={class:"grid grid-c-3"},L={class:"grid grid-c-4"},A={class:"tipBox"},F={class:"tipBox"},I={class:"tipBox"},P={class:"tipBox"},K=w({__name:"key",setup($){const{proxy:C}=j(),d=(o,e="success")=>{C.$message[e](o),console.log(o)},l=N({q:""}),m={},f=o=>o?o.tagName=="INPUT"||o.tagName=="TEXTAREA"?o:o.classList.contains("el-input")||o.classList.contains("el-textarea")?o.getElementsByClassName("el-input__inner")[0]||o.getElementsByClassName("el-textarea__inner")[0]:void 0:void 0,r={mounted(o,e){const n=f(o);if(!e.arg){console.error("请绑定需要触发的键，例如v-press-key:s");return}const s=Object.keys(e.modifiers).length?Object.keys(e.modifiers)[0]:"",B=n==null?e.arg+(s?"-"+s:""):e.arg+"-"+n.tagName+(s?"-"+s:"");if(Object.keys(m).filter(x=>x==B).length){console.error("绑定的按键 "+e.arg+" 与已有的重名");return}if(m[B]={arg:e.arg,funVal:e.value,id:s},n!==void 0){n.onkeydown=function(u){const q=Object.keys(m).filter(k=>{const V=k.split("-")[0];return u.key.toUpperCase()==V||u.key.toLowerCase()==V||u.key==V});console.log(q),q.length&&m[q[0].split("-")[0]+"-"+n.tagName+(s?"-"+s:"")].funVal()};return}window.onkeydown=function(u){if(f(document.activeElement))return;const q=Object.keys(m).filter(k=>u.key.toUpperCase()==k||u.key.toLowerCase()==k||u.key==k);q.length&&m[q[0]].funVal()}}};return(o,e)=>{const n=U("el-input");return i(),g(E,null,[t("div",O,[t("div",null,[e[7]||(e[7]=t("div",{class:"tipBox"},"q 按键 input 类型 （局部触发）",-1)),a((i(),v(n,{modelValue:l.q,"onUpdate:modelValue":e[0]||(e[0]=s=>l.q=s)},{append:y(()=>e[6]||(e[6]=[p(" v-press-key:q ")])),_:1},8,["modelValue"])),[[r,()=>d("按键 q 触发 input"),"q"]])]),t("div",null,[e[9]||(e[9]=t("div",{class:"tipBox"},"q 按键 携带id（局部触发）",-1)),a((i(),v(n,{modelValue:l.q,"onUpdate:modelValue":e[1]||(e[1]=s=>l.q=s)},{append:y(()=>e[8]||(e[8]=[p(" v-press-key:q.100 ")])),_:1},8,["modelValue"])),[[r,()=>d("按键 q 触发 input,携带 id 为 100"),"q",{100:!0}]])]),t("div",null,[e[11]||(e[11]=t("div",{class:"tipBox"},"q 按键 携带id（局部触发）",-1)),a((i(),v(n,{modelValue:l.q,"onUpdate:modelValue":e[2]||(e[2]=s=>l.q=s)},{append:y(()=>e[10]||(e[10]=[p(" v-press-key:q.200 ")])),_:1},8,["modelValue"])),[[r,()=>d("按键 q 触发 input,携带 id 为 200"),"q",{200:!0}]])])]),t("div",T,[t("div",null,[e[13]||(e[13]=t("div",{class:"tipBox"},"q 按键 textarea 类型 （局部触发）",-1)),a((i(),v(n,{type:"textarea",modelValue:l.q,"onUpdate:modelValue":e[3]||(e[3]=s=>l.q=s)},{append:y(()=>e[12]||(e[12]=[p(" v-press-key:q ")])),_:1},8,["modelValue"])),[[r,()=>d("按键 q 触发 textarea"),"q"]])]),t("div",null,[e[15]||(e[15]=t("div",{class:"tipBox"},"q 按键 携带id（局部触发）",-1)),a((i(),v(n,{type:"textarea",modelValue:l.q,"onUpdate:modelValue":e[4]||(e[4]=s=>l.q=s)},{append:y(()=>e[14]||(e[14]=[p(" v-press-key:q.100 ")])),_:1},8,["modelValue"])),[[r,()=>d("按键 q 触发 textarea,携带 id 为 100"),"q",{100:!0}]])]),t("div",null,[e[17]||(e[17]=t("div",{class:"tipBox"},"q 按键 携带id（局部触发）",-1)),a((i(),v(n,{type:"textarea",modelValue:l.q,"onUpdate:modelValue":e[5]||(e[5]=s=>l.q=s)},{append:y(()=>e[16]||(e[16]=[p(" v-press-key:q.200 ")])),_:1},8,["modelValue"])),[[r,()=>d("按键 q 触发 textarea,携带 id 为 200"),"q",{200:!0}]])])]),t("div",L,[t("div",null,[a((i(),g("div",A,e[18]||(e[18]=[p(" a 按键（全局触发） v-press-key:a ")]))),[[r,()=>d("按键 a 触发，全局","success"),"a"]])]),t("div",null,[a((i(),g("div",F,e[19]||(e[19]=[p(" d 按键（全局触发） v-press-key:d ")]))),[[r,()=>d("按键 d 触发，全局","success"),"d"]])]),t("div",null,[a((i(),g("div",I,e[20]||(e[20]=[p(" d 按键，携带id（不会触发，没有绑定在 input 或者 textarea 上） v-press-key:d.100 ")]))),[[r,()=>d("按键 d 触发 携带id，全局","success"),"d",{100:!0}]])]),t("div",null,[a((i(),g("div",P,e[21]||(e[21]=[p(" q 按键（全局也触发） v-press-key:q ")]))),[[r,()=>d("按键 q 触发，全局","success"),"q"]])])])],64)}}});export{K as default};
