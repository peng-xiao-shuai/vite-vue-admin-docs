import{d as g,a0 as x,B as N,o as a,c as B,j as u,a2 as m,b as p,w as s,a as i}from"./framework.CklS7oNF.js";const S={class:"grid grid-c-4"},F=g({__name:"number",setup(U){const r=x({number:0,float:0,floatLength:0,numberScope:1,numberFloatScope:1});let v;const b=(n="number",e,t)=>{v.addEventListener(t!=null&&t.length?"change":"input",l=>{const f=Object.keys(e||{});let o=l.target.value.replace(/[a-z]|[\u4e00-\u9fa5]|[^\x00-\xff]/gi,"")||"";if(!o||o==="."){l.target.value="";return}if(t){for(const V in t)if(isNaN(Number(t[V]))){console.error("value 的下标 ",V,"不能转换为数组");return}o=o<t[0]?t[0]:o>t[1]?t[1]:o}if(n=="float"){if(o=String(o),o.split(".").length>2||o.substr(o.indexOf(".")+1,o.length).length>Number(f[0]||2)){l.target.value=o.substr(0,o.length-1);return}o=o.indexOf(".")==-1?Number(o).toFixed(f&&Number(f[0])||2):o}else o=Number(o);l.target.value=o})},d=(n,e)=>{if(e.arg&&["number","float"].indexOf(e.arg)===-1){console.error("传递给指令的参数只能为 number,float");return}if(e.value instanceof Array&&e.value.length!==2){console.error("传递给指令的 value 值长度不为 2 "),console.error("value：",e.value);return}v=n.tagName==="INPUT"?n:n.children[0],b(e.arg,e.modifiers,e.value)};return(n,e)=>{const t=N("el-input");return a(),B("div",S,[u("div",null,[e[6]||(e[6]=u("div",{class:"tipBox"},"整数",-1)),m((a(),p(t,{modelValue:r.number,"onUpdate:modelValue":e[0]||(e[0]=l=>r.number=l),placeholder:""},{append:s(()=>e[5]||(e[5]=[i(" v-num ")])),_:1},8,["modelValue"])),[[d]])]),u("div",null,[e[8]||(e[8]=u("div",{class:"tipBox"},"小数（默认2位）",-1)),m((a(),p(t,{modelValue:r.float,"onUpdate:modelValue":e[1]||(e[1]=l=>r.float=l),placeholder:""},{append:s(()=>e[7]||(e[7]=[i(" v-num:float ")])),_:1},8,["modelValue"])),[[d,void 0,"float"]])]),u("div",null,[e[10]||(e[10]=u("div",{class:"tipBox"},"小数（自定义保留n位）",-1)),m((a(),p(t,{modelValue:r.floatLength,"onUpdate:modelValue":e[2]||(e[2]=l=>r.floatLength=l),placeholder:""},{append:s(()=>e[9]||(e[9]=[i(" v-num:float.5 ")])),_:1},8,["modelValue"])),[[d,void 0,"float",{5:!0}]])]),u("div",null,[e[12]||(e[12]=u("div",{class:"tipBox"},"整数（固定范围）",-1)),m((a(),p(t,{modelValue:r.numberScope,"onUpdate:modelValue":e[3]||(e[3]=l=>r.numberScope=l),placeholder:""},{append:s(()=>e[11]||(e[11]=[i(' v-num="[1, 10]" ')])),_:1},8,["modelValue"])),[[d,[1,10]]])]),u("div",null,[e[14]||(e[14]=u("div",{class:"tipBox"},"小数（固定范围）",-1)),m((a(),p(t,{modelValue:r.numberFloatScope,"onUpdate:modelValue":e[4]||(e[4]=l=>r.numberFloatScope=l),placeholder:""},{append:s(()=>e[13]||(e[13]=[i(' v-num="[1, 10]" ')])),_:1},8,["modelValue"])),[[d,[1,10],"float",{2:!0}]])])])}}});export{F as default};
